      
/* public/initial_hide.css */

/* Add a parent selector 'body.nsfw-filter-active' to all rules
   so they only apply when the content script adds this class */

/* Initial Pending/Hide State */
body.nsfw-filter-active img[src]:not([data-nsfw-classification]), /* Initially has no attribute */
body.nsfw-filter-active img[src][data-nsfw-classification="pending"],
/* body.nsfw-filter-active video[src]:not([data-nsfw-classification]), */
/* body.nsfw-filter-active video[src][data-nsfw-classification="pending"], */
body.nsfw-filter-active [data-nsfw-bg-check="pending"]:not([data-nsfw-classification]) /* Add if using bg check */
{
  opacity: 0.05 !important;
  /* filter: blur(1px); */
  /* transition: opacity 0.2s ease-in-out; */
}

/* NSFW State */
body.nsfw-filter-active [data-nsfw-classification="porn"],
body.nsfw-filter-active [data-nsfw-classification="sexy"],
body.nsfw-filter-active [data-nsfw-classification="hentai"]
{
    opacity: 0.1 !important;
    filter: blur(20px) !important;
    transition: none;
}

/* Safe/Error/Revealed State - LIST ALL NON-NSFW and ERROR labels explicitly */
body.nsfw-filter-active [data-nsfw-classification="safe"],
body.nsfw-filter-active [data-nsfw-classification="drawing"],
body.nsfw-filter-active [data-nsfw-classification="neutral"],
body.nsfw-filter-active [data-nsfw-classification="unknown"],
body.nsfw-filter-active [data-nsfw-classification^="error"], /* Catches general errors */
body.nsfw-filter-active [data-nsfw-classification^="bg-error"],
body.nsfw-filter-active [data-nsfw-classification^="comm-error"],
body.nsfw-filter-active [data-nsfw-classification^="send-error"],
body.nsfw-filter-active [data-nsfw-classification^="fetch-error"],
body.nsfw-filter-active [data-nsfw-classification^="capture-error"],
body.nsfw-filter-active [data-nsfw-classification^="canvas-error"],
body.nsfw-filter-active [data-nsfw-classification^="capture-nodata"],
body.nsfw-filter-active [data-nsfw-classification^="load-error"],
body.nsfw-filter-active [data-nsfw-classification^="native-load-error"],
body.nsfw-filter-active [data-nsfw-classification^="zero-dimensions"]
 {
    opacity: 1 !important;
    filter: none !important;
}

/* --- IMPORTANT: No rules without 'body.nsfw-filter-active' --- */

    